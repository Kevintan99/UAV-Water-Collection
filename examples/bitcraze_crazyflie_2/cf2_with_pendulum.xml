<mujoco model="cf2">
  <option integrator="Euler" timestep="0.02" iterations="1" ls_iterations="5" solver="Newton">
    <flag eulerdamp="disable"/>
  </option>

  <!-- Original settings
  <option integrator="RK4" timestep="0.002" density="1.225" viscosity="1.8e-5"/>
  -->

  <compiler inertiafromgeom="false" meshdir="assets" autolimits="true"/>

  <default>
    <default class="cf2">
      <default class="visual">
        <geom group="2" type="mesh" contype="0" conaffinity="0"/>
      </default>
      <!--default class="collision">
        <geom group="3" type="mesh"/>
      </default-->
      <site group="5"/>
    </default>
  </default>

  <asset>
    <material name="polished_plastic" rgba="0.631 0.659 0.678 1"/>
    <material name="polished_gold" rgba="0.969 0.878 0.6 1"/>
    <material name="medium_gloss_plastic" rgba="0.109 0.184 0.0 1"/>
    <material name="propeller_plastic" rgba="0.792 0.820 0.933 1"/>
    <material name="white" rgba="1 1 1 1"/>
    <material name="body_frame_plastic" rgba="0.102 0.102 0.102 1"/>
    <material name="burnished_chrome" rgba="0.898 0.898 0.898 1"/>
    
    <!-- Bucket materials -->
    <material name="bucket_blue" rgba="0.2 0.4 0.8 0.9"/>
    <material name="bucket_rim" rgba="0.15 0.35 0.75 1"/>
    <material name="bucket_handle" rgba="0.6 0.6 0.6 1"/>

    <mesh file="cf2_0.obj"/>
    <mesh file="cf2_1.obj"/>
    <mesh file="cf2_2.obj"/>
    <mesh file="cf2_3.obj"/>
    <mesh file="cf2_4.obj"/>
    <mesh file="cf2_5.obj"/>
    <mesh file="cf2_6.obj"/>
    <!--
    <mesh file="cf2_collision_0.obj"/>
    <mesh file="cf2_collision_1.obj"/>
    <mesh file="cf2_collision_2.obj"/>
    <mesh file="cf2_collision_3.obj"/>
    <mesh file="cf2_collision_4.obj"/>
    <mesh file="cf2_collision_5.obj"/>
    <mesh file="cf2_collision_6.obj"/>
    <mesh file="cf2_collision_7.obj"/>
    <mesh file="cf2_collision_8.obj"/>
    <mesh file="cf2_collision_9.obj"/>
    <mesh file="cf2_collision_10.obj"/>
    <mesh file="cf2_collision_11.obj"/>
    <mesh file="cf2_collision_12.obj"/>
    <mesh file="cf2_collision_13.obj"/>
    <mesh file="cf2_collision_14.obj"/>
    <mesh file="cf2_collision_15.obj"/>
    <mesh file="cf2_collision_16.obj"/>
    <mesh file="cf2_collision_17.obj"/>
    <mesh file="cf2_collision_18.obj"/>
    <mesh file="cf2_collision_19.obj"/>
    <mesh file="cf2_collision_20.obj"/>
    <mesh file="cf2_collision_21.obj"/>
    <mesh file="cf2_collision_22.obj"/>
    <mesh file="cf2_collision_23.obj"/>
    <mesh file="cf2_collision_24.obj"/>
    <mesh file="cf2_collision_25.obj"/>
    <mesh file="cf2_collision_26.obj"/>
    <mesh file="cf2_collision_27.obj"/>
    <mesh file="cf2_collision_28.obj"/>
    <mesh file="cf2_collision_29.obj"/>
    <mesh file="cf2_collision_30.obj"/>
    <mesh file="cf2_collision_31.obj"/>
    -->
  </asset>

  <worldbody>
    <body name="cf2" pos="0 0 0" childclass="cf2">
      <freejoint/>
      <inertial pos="0 0 0" mass="0.027" diaginertia="2.3951e-5 2.3951e-5 3.2347e-5"/>
      <camera name="track" pos="-1 0 .5" xyaxes="0 -1 0 1 0 2" mode="trackcom"/>
      <geom mesh="cf2_0" material="propeller_plastic" class="visual"/>
      <geom mesh="cf2_1" material="medium_gloss_plastic" class="visual"/>
      <geom mesh="cf2_2" material="polished_gold" class="visual"/>
      <geom mesh="cf2_3" material="polished_plastic" class="visual"/>
      <geom mesh="cf2_4" material="burnished_chrome" class="visual"/>
      <geom mesh="cf2_5" material="body_frame_plastic" class="visual"/>
      <geom mesh="cf2_6" material="white" class="visual"/>
      <!--
      <geom mesh="cf2_collision_0" class="collision"/>
      <geom mesh="cf2_collision_1" class="collision"/>
      <geom mesh="cf2_collision_2" class="collision"/>
      <geom mesh="cf2_collision_3" class="collision"/>
      <geom mesh="cf2_collision_4" class="collision"/>
      <geom mesh="cf2_collision_5" class="collision"/>
      <geom mesh="cf2_collision_6" class="collision"/>
      <geom mesh="cf2_collision_7" class="collision"/>
      <geom mesh="cf2_collision_8" class="collision"/>
      <geom mesh="cf2_collision_9" class="collision"/>
      <geom mesh="cf2_collision_10" class="collision"/>
      <geom mesh="cf2_collision_11" class="collision"/>
      <geom mesh="cf2_collision_12" class="collision"/>
      <geom mesh="cf2_collision_13" class="collision"/>
      <geom mesh="cf2_collision_14" class="collision"/>
      <geom mesh="cf2_collision_15" class="collision"/>
      <geom mesh="cf2_collision_16" class="collision"/>
      <geom mesh="cf2_collision_17" class="collision"/>
      <geom mesh="cf2_collision_18" class="collision"/>
      <geom mesh="cf2_collision_19" class="collision"/>
      <geom mesh="cf2_collision_20" class="collision"/>
      <geom mesh="cf2_collision_21" class="collision"/>
      <geom mesh="cf2_collision_22" class="collision"/>
      <geom mesh="cf2_collision_23" class="collision"/>
      <geom mesh="cf2_collision_24" class="collision"/>
      <geom mesh="cf2_collision_25" class="collision"/>
      <geom mesh="cf2_collision_26" class="collision"/>
      <geom mesh="cf2_collision_27" class="collision"/>
      <geom mesh="cf2_collision_28" class="collision"/>
      <geom mesh="cf2_collision_29" class="collision"/>
      <geom mesh="cf2_collision_30" class="collision"/>
      <geom mesh="cf2_collision_31" class="collision"/>
      -->
      <site name="imu"/>
      <site name="actuation"/>

      <!-- ===== BEGIN BUCKET LOAD ===== -->
      <body name="bucket_hanger" pos="0 0 0">
        <!-- First hinge: alpha (swing in x-z), about Y axis -->
        <joint name="pendulum_alpha" type="hinge" axis="0 1 0"
               limited="false" damping="0" stiffness="0"/>
        <!-- Second hinge: beta (swing in y-z), about X axis -->
        <joint name="pendulum_beta" type="hinge" axis="1 0 0"
               limited="false" damping="0" stiffness="0"/>
        <!-- give it some mass & inertia -->
        <inertial pos="0 0 0" mass="1.0"
                  diaginertia="0.001 0.001 0.0001"/>
        <!-- a thin rod connecting to bucket handle -->
        <geom name="pendulum_rod" type="capsule"
              fromto="0 0 0   0 0 -0.165" size="0.003"
              rgba="0.7 0.2 0.2 1"/>
        
        <!-- Bucket construction -->
        <body name="bucket" pos="0 0 -0.25">
          <!-- Main bucket mass and inertia -->
          <inertial pos="0 0 -0.015" mass="0.5"
                    diaginertia="0.0012 0.0012 0.0006"/>
          
          <!-- Bucket bottom -->
          <geom name="bucket_bottom" type="cylinder" 
                pos="0 0 -0.0195" size="0.0195 0.0015"
                material="bucket_blue"/>
          
          <!-- Bucket walls (using multiple cylinders to create hollow effect) -->
          <!-- Outer wall -->
          <geom name="bucket_wall_outer" type="cylinder" 
                pos="0 0 -0.0105" size="0.021 0.0105"
                material="bucket_blue"/>
          
          <!-- Inner hollow space (invisible, for physics) -->
          <geom name="bucket_wall_inner" type="cylinder" 
                pos="0 0 -0.0075" size="0.018 0.0075"
                material="bucket_blue" group="0" contype="0" conaffinity="0"/>
          
          <!-- Bucket rim -->
          <geom name="bucket_rim" type="cylinder" 
                pos="0 0 0.003" size="0.0225 0.003"
                material="bucket_rim"/>
          
          <!-- Handle attachment points -->
          <geom name="handle_attach1" type="sphere" 
                pos="0.021 0 0" size="0.003"
                material="bucket_handle"/>
          <geom name="handle_attach2" type="sphere" 
                pos="-0.021 0 0" size="0.003"
                material="bucket_handle"/>
          
          <!-- Handle (wire-frame style using capsules) -->
          <!-- Connection point from pendulum rod to handle -->
          <geom name="rod_to_handle_connector" type="capsule"
                fromto="0 0 0.027  0 0 0.175" size="0.003"
                rgba="0.7 0.2 0.2 1"/>
          
          <!-- Main handle arc (approximated with multiple segments) -->
          <geom name="handle_seg1" type="capsule"
                fromto="0.021 0 0.0045  0.015 0 0.0255" size="0.0012"
                material="bucket_handle"/>
          <geom name="handle_seg2" type="capsule"
                fromto="0.015 0 0.0255  0.0075 0 0.030" size="0.0012"
                material="bucket_handle"/>
          <geom name="handle_seg3" type="capsule"
                fromto="0.0075 0 0.030  -0.0075 0 0.030" size="0.0012"
                material="bucket_handle"/>
          <geom name="handle_seg4" type="capsule"
                fromto="-0.0075 0 0.030  -0.015 0 0.0255" size="0.0012"
                material="bucket_handle"/>
          <geom name="handle_seg5" type="capsule"
                fromto="-0.015 0 0.0255  -0.021 0 0.0045" size="0.0012"
                material="bucket_handle"/>
          
          <!-- Handle grip (horizontal bar) - this is where the rod connects -->
          <geom name="handle_grip" type="capsule"
                fromto="-0.0105 0 0.027  0.0105 0 0.027" size="0.0015"
                material="bucket_handle"/>
          
          <!-- Optional: Add some visual detail lines on the bucket -->
          <geom name="bucket_detail1" type="capsule"
                fromto="0.012 0 -0.0075  -0.012 0 -0.0075" size="0.00045"
                rgba="0.15 0.3 0.6 0.8"/>
          <geom name="bucket_detail2" type="capsule"
                fromto="0 0.012 -0.0075  0 -0.012 -0.0075" size="0.00045"
                rgba="0.15 0.3 0.6 0.8"/>
        </body>
      </body>
      <!-- ===== END BUCKET LOAD ===== -->
      
    </body>
  </worldbody>

  <actuator>
    <motor class="cf2" ctrlrange="0 1" gear="0 0 1 0 0 0" site="actuation" name="body_thrust"/>
    <motor class="cf2" ctrlrange="-1 1" gear="0 0 0 0.001 0 0" site="actuation" name="x_moment"/>
    <motor class="cf2" ctrlrange="-1 1" gear="0 0 0 0 0.001 0" site="actuation" name="y_moment"/>
    <motor class="cf2" ctrlrange="-1 1" gear="0 0 0 0 0 0.001" site="actuation" name="z_moment"/>
  </actuator>

  <sensor>
    <gyro name="body_gyro" site="imu"/>
    <accelerometer name="body_linacc" site="imu"/>
    <framequat name="body_quat" objtype="site" objname="imu"/>
  </sensor>

  <keyframe>
    <key name="hover" qpos="0 0 0.1 1 0 0 0 0 0" ctrl="0.26487 0 0 0"/>
  </keyframe>
</mujoco>

